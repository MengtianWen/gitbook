# ğŸ˜ stARkit SDK ä½¿ç”¨å¼•å¯¼

### stARkit SDK ä½¿ç”¨å¼•å¯¼

#### 2.1 è®¾å¤‡ç‰ˆæœ¬è¯´æ˜

æœ¬SDKç”¨äºæ”¯æŒ**è”æƒ³æ™¨æ˜ŸNew G2 Proçœ¼é•œ**åœ¨**è”æƒ³æ‹¯æ•‘è€…Y90æ‰‹æœº**ä¸Šçš„å¼€å‘ã€‚

#### ç³»ç»Ÿä¿¡æ¯

**æ”¯æŒè®¾å¤‡** New G2 Pro + Y90

**è®¡ç®—èƒ½åŠ›** é«˜é€šéªé¾™8Gen1ï¼ŒGPU+DSPï¼Œ12GBå†…å­˜+256GBé—ªå­˜

**å…‰å­¦å‚æ•°** åŒç›®é€æ˜æ˜¾ç¤ºï¼ŒåŒ1080P

**å£°å­¦ç³»ç»Ÿ** åŒéº¦å…‹é£ã€åŒå–‡å­

**CV** **ç³»ç»Ÿ** æ‘„åƒå¤´è‡ªåŠ¨å¯¹ç„¦800ä¸‡åƒç´ ï¼ŒåŒé±¼çœ¼æ‘„åƒå¤´ï¼ŒTOFç›¸æœº

**ç©ºé—´å®šä½** é«˜ç²¾åº¦VSLAMï¼Œç©ºé—´é”šå®š

**äº¤äº’æ–¹å¼** å¤´åŠ¨ã€æŒ‰é”®ã€é¥æ§å™¨

**æ— çº¿è¿æ¥** å†…ç½®5G/Bluetooth/Wifi/GPS/NFC

**å¯æ‰©å±•æ€§** åŒUSB Type-Cæ¥å£

**å®‰å“ç‰ˆæœ¬** Android 12

**ç³»ç»Ÿç‰ˆæœ¬** 3.6.4

#### å¼€å‘å‰è®¾å¤‡è¿æ¥æ–¹å¼

1.  å°†ARçœ¼é•œæ’å…¥æ‰‹æœºä¾§é¢çš„Type-Cå£ä¸­ï¼Œä¼šè‡ªåŠ¨è¿›å…¥è¿æ¥ç•Œé¢ï¼Œå¯åŠ¨çœ¼é•œç«¯æ¡Œé¢ARLauncherã€‚

    **æ³¨æ„ï¼šæ’å…¥æ‰‹æœºåº•éƒ¨çš„Type-Cå£æ— æ•ˆã€‚**

    ![https://www.notion.soREADME\_Img/newg2pro\_connect.png](https://www.notion.soreadme\_img/newg2pro\_connect.png)
2.  ARLauncherå¯åŠ¨åï¼Œåœ¨æ‰‹æœºç«¯ä¼šæ˜¾ç¤ºæ™¨æ˜Ÿé¥æ§å™¨ç•Œé¢ï¼Œå¯æ”¯æŒä¸çœ¼é•œä¸­çš„ARåº”ç”¨è¿›è¡Œç©ºé—´äº¤äº’ã€‚å¦å¤–ç‚¹å‡»é¥æ§å™¨å³ä¸Šè§’è®¾ç½®å›¾æ ‡å¯ä»¥æŸ¥çœ‹å…³äºçœ¼é•œçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¼€å…³ç³»ç»ŸæœåŠ¡ï¼Œè·å–ä½¿ç”¨å¸®åŠ©ç­‰ã€‚

    ![https://www.notion.soREADME\_Img/controller\_main.png](https://www.notion.soreadme\_img/controller\_main.png)

    ![https://www.notion.soREADME\_Img/controller\_settings.png](https://www.notion.soreadme\_img/controller\_settings.png)

    ![https://www.notion.soREADME\_Img/controller\_function.png](https://www.notion.soreadme\_img/controller\_function.png)

    åœ¨ARçœ¼é•œç«¯ä¼šæ˜¾ç¤ºARLauncherç•Œé¢ï¼Œç”¨äºå‘ˆç°å’Œç®¡ç†é¢„è£…åº”ç”¨ä»¥åŠåŸºäºSDKå¼€å‘çš„ARåº”ç”¨ï¼Œç‚¹å‡»å¯¹åº”çš„åº”ç”¨å›¾æ ‡æ—¢å¯å¯åŠ¨ï¼›åŒæ—¶ARLauncherç•Œé¢å¯æ”¯æŒè°ƒæ•´çœ¼é•œçš„æ˜¾ç¤ºäº®åº¦ã€‚

    ![https://www.notion.soREADME\_Img/launcher.png](https://www.notion.soreadme\_img/launcher.png)
3. ARçœ¼é•œè¿æ¥**æ‰‹æœºä¾§é¢Type-Cå£**åï¼Œåº•éƒ¨Type-Cå£å¯ä»¥åŒæ—¶æ”¯æŒæ‰©å±•usbè®¾å¤‡ä½¿ç”¨ï¼Œä½†ä¸æ”¯æŒå……ç”µæˆ–è€…å¤–æ¥usbçº¿è°ƒè¯•ï¼Œå¦‚éœ€è¦è°ƒè¯•åº”ç”¨æŸ¥çœ‹æ—¥å¿—è¯·ä½¿ç”¨wifi-adbè¿›è¡Œè°ƒè¯•, ä½¿ç”¨è¯¦æƒ…è¯·å’¨è¯¢å”®åã€‚

#### 2.2 å¼€å‘ç¯å¢ƒå‡†å¤‡

#### å¼€å‘ç¯å¢ƒ

åŸºäºstARkit Unity SDKå¼€å‘åº”ç”¨ï¼Œéœ€è¦åœ¨æœ¬æœºå®‰è£…Unity(SDKå¼€å‘ç‰ˆæœ¬æ˜¯**Unity2020.3.16**ï¼Œåœ¨ä½¿ç”¨æ­¤SDKå¼€å‘æ—¶å»ºè®®ä½¿ç”¨**2020.3.16**æˆ–ä»¥ä¸Šç‰ˆæœ¬)ã€‚

å®‰è£…unityè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ç›¸åº”çš„ç»„ä»¶ï¼Œè‹¥éœ€è¦ç¼–è¯‘Androidå’ŒiOSåº”ç”¨ï¼Œ**è¯·å‚è€ƒä¸‹å›¾å‹¾é€‰**ã€‚

**å»ºè®®ï¼šè¯·ç¡®ä¿å‹¾é€‰Microsoft Visual Studioæ¨¡å—ï¼Œæˆ–è‡ªè¡Œåœ¨æœ¬æœºå®‰è£…å…¶ä»–ç‰ˆæœ¬Visual Studioã€‚**

![https://www.notion.soREADME\_Img/unity\_install\_option.png](https://www.notion.soreadme\_img/unity\_install\_option.png)

#### SDKä¸‹è½½

è¯·ç™»å½•[æ™¨æ˜Ÿå¼€å‘è€…å¹³å°](https://daystar.lenovo.com/dev)åï¼Œåœ¨é¡¶éƒ¨èœå•â€œ**ä¸‹è½½**â€â€”â€œ**SDKä¸‹è½½**â€é¡µé¢ä¸­ï¼Œä¸‹è½½stARkit SDKã€‚**å»ºè®®ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ã€‚**

![https://www.notion.soREADME\_Img/download\_sdk.png](https://www.notion.soreadme\_img/download\_sdk.png)

#### å¼€å‘è´¦å·æ³¨å†Œ

å¦‚æœå¼€å‘è€…éœ€è¦ä½¿ç”¨SDKçš„è¯†åˆ«å®šä½åŠŸèƒ½ï¼Œéœ€è¦è¿›è¡Œå¼€å‘è´¦å·çš„æ³¨å†Œã€‚

stARkitå¼€å‘è€…é—¨æˆ·ç½‘ç«™â€”â€”[æ™¨æ˜Ÿè§†è§‰å¹³å°](https://daystar.lenovo.com/dev/#/home)æä¾›é¡¹ç›®ç®¡ç†ã€è®¸å¯è¯ç®¡ç†ç­‰åŠŸèƒ½ã€‚ç™»å½•æ™¨æ˜Ÿè§†è§‰å¹³å°,é€šè¿‡å³ä¸Šæ–¹æŒ‰é’®è¿›è¡Œè´¦æˆ·æ³¨å†Œæˆ–ç™»å½•ã€‚ç™»å½•ååœ¨å¼€å‘è€…ä¸­å¿ƒâ€”æˆ‘çš„é¡¹ç›®ä¸­æ–°å»ºé¡¹ç›®æˆ–ç®¡ç†å·²æœ‰é¡¹ç›®ã€‚

1.  æ³¨å†Œæ–°è´¦å·ï¼Œç„¶åç™»å½•ä½¿ç”¨è‡ªå·±çš„è´¦å·ç™»å½•

    ![https://www.notion.soREADME\_Img/Net\_login.png](https://www.notion.soreadme\_img/Net\_login.png)
2.  è´¦å·ç™»å½•æˆåŠŸåé€‰æ‹© **å¼€å‘è€…ä¸­å¿ƒ** **æˆ‘çš„é¡¹ç›®**

    ![https://www.notion.soREADME\_Img/Net\_myproject.png](https://www.notion.soreadme\_img/Net\_myproject.png)
3.  è¿›å…¥æˆ‘çš„é¡¹ç›®åé€‰æ‹©å³ä¸Šè§’çš„**æ–°å»ºé¡¹ç›®**ï¼Œæ ¹æ®æç¤ºå®Œæˆæ“ä½œ

    ![https://www.notion.soREADME\_Img/Net\_newproject.png](https://www.notion.soreadme\_img/Net\_newproject.png)

    1. æ–°å»ºå®Œæˆåç‚¹å‡»é¡¹ç›®è¿›å…¥å®Œæˆè®¸å¯è¯çš„é…ç½®ã€‚

    ![https://www.notion.soREADME\_Img/Net\_projectid.png](https://www.notion.soreadme\_img/Net\_projectid.png)

    1. å°†è®¸å¯è¯çš„keyå’Œsecretå¤åˆ¶è®°å½•ä¸‹æ¥ï¼Œåœ¨å¼€å‘æ—¶å¡«å…¥åœºæ™¯ä¸­çš„SRApplicationä¸­

    ![https://www.notion.soREADME\_Img/Net\_key\_secret.png](https://www.notion.soreadme\_img/Net\_key\_secret.png)

    ![https://www.notion.soREADME\_Img/SRApplication.png](https://www.notion.soreadme\_img/SRApplication.png)

#### 2.3 å¯¼å…¥Unity SDK

#### åˆ›å»ºå·¥ç¨‹

è¿è¡Œå·²å®‰è£…çš„Unityè½¯ä»¶ï¼Œé€‰æ‹©åˆ›å»ºä¸€ä¸ªæ–°å·¥ç¨‹ã€‚

![https://www.notion.soREADME\_Img/CreateProject\_new.png](https://www.notion.soreadme\_img/CreateProject\_new.png)

åœ¨â‘ å¤„è®¾ç½®ä½ çš„å·¥ç¨‹åï¼Œåœ¨â‘¡å¤„é€‰æ‹©å·¥ç¨‹çš„å­˜å‚¨è·¯å¾„ï¼Œæœ€å¥½æ˜¯ä¸€ä¸ªç©ºçš„æ–‡ä»¶å¤¹ï¼Œè®¾ç½®å¥½åç‚¹å‡»â€œåˆ›å»ºâ€æŒ‰é’®ï¼Œç­‰å¾…å·¥ç¨‹åˆ›å»ºæˆåŠŸåæ‰“å¼€ã€‚

![https://www.notion.soREADME\_Img/CreateProject\_name.png](https://www.notion.soreadme\_img/CreateProject\_name.png)

#### å¯¼å…¥SDK

ä»èœå•æ â€œAsserts->Import Package->Custom Package..â€å¯¼å…¥[stARkit for daystAR SDK Unity Package](about:blank#SDK%E4%B8%8B%E8%BD%BD)ä¸ºè‡ªå®šä¹‰åŒ…ï¼› é»˜è®¤å¯¼å…¥å…¨éƒ¨èµ„æºã€‚

![https://www.notion.soREADME\_Img/Import\_package.png](https://www.notion.soreadme\_img/Import\_package.png)

**æ³¨æ„ï¼š** **å¦‚æœå¯¼å…¥SDKåUnityç¼–è¾‘å™¨æç¤ºä¸‹å›¾ä¸­é”™è¯¯ä¿¡æ¯æ—¶ï¼Œéœ€æ‰‹åŠ¨åˆ é™¤Assets/Common/Plugins/JsonNetè·¯å¾„ä¸‹çš„Newtonsoft.Json.dllæ–‡ä»¶ã€‚**

![https://www.notion.soREADME\_Img/Newtonsoft.Json.dll.png](https://www.notion.soreadme\_img/Newtonsoft.Json.dll.png)

ç„¶ååœ¨Unityåœºæ™¯å±‚çº§çª—å£ä¸­ï¼Œåˆ é™¤Main Cameraã€‚

![https://www.notion.soREADME\_Img/Delete\_camera.png](https://www.notion.soreadme\_img/Delete\_camera.png)

#### åœºæ™¯é…ç½®

åœ¨stARkit SDKä¸­ï¼Œæä¾›äº†ä¸€äº›ç¤ºä¾‹åœºæ™¯ï¼Œå…¶ä¸­**Assets/stARkit/Lenovo.stARkit.SDK/Tutorial/MixtureSeeThrough/Scene**ä¸ºæœ€åŸºç¡€çš„ARåœºæ™¯ï¼Œå¯å°†æ­¤åœºæ™¯buildå‡ºapkå®‰è£…åŒ…ï¼Œåœ¨æ™¨æ˜ŸARè®¾å¤‡ä¸Šé¢ä½“éªŒï¼›è‹¥éœ€è¦è‡ªå·±åˆ¶ä½œåœºæ™¯ï¼Œè¯·å‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼š

åœ¨Unityä¸‹æ–¹çš„é¡¹ç›®çª—å£ä¸­ï¼Œæ‰¾åˆ°é¢„åˆ¶ä½“Assets/stARkit/Lenovo.stARkit.SDK/Prefab/StARkitMixtureGlassSeeThrough.Prefabã€‚

![https://www.notion.soREADME\_Img/Path\_GST.png](https://www.notion.soreadme\_img/Path\_GST.png)

å°†é¢„åˆ¶ä½“StARkitMixtureGlassSeeThroughæ‹–å…¥sceneï¼ˆHierarchyï¼‰ã€‚æˆ–è€…é€‰æ‹©StARkit Tool -> Add to scene with StARkitMixtureGlassSeeThroughå¿«æ·æŒ‰é’®ã€‚

![https://www.notion.soREADME\_Img/Button\_GST.png](https://www.notion.soreadme\_img/Button\_GST.png)

å°†è®¸å¯è¯é¢„åˆ¶ä½“**SRApplication**æ”¾å…¥åœºæ™¯ï¼ˆé€šè¿‡StARkit Tool -> Add to scene with StARkitMixtureGlassSeeThrough å¿«æ·é”®æ·»åŠ çš„ä¼šè‡ªåŠ¨åˆ›å»ºé¢„åˆ¶ä½“ï¼Œä¸éœ€è¦å†æ‹–ä¸€éï¼‰ï¼Œç„¶åå°†å¼€å‘è€…è´¦å·é…ç½®çš„é¡¹ç›®è®¸å¯è¯å¡«å†™åˆ°é¢„åˆ¶ä½“çš„å¯¹åº”å‚æ•°ä¸Šï¼ŒSRApplicationå¿…é¡»å¡«å†™æ­£ç¡®ï¼Œ3.5åŠä»¥åçš„sdkè¿›å…¥åº”ç”¨å¿…é¡»è”ç½‘éªŒè¯ã€‚

![https://www.notion.soREADME\_Img/Net\_key\_secret.png](https://www.notion.soreadme\_img/Net\_key\_secret.png)

![https://www.notion.soREADME\_Img/SRApplication.png](https://www.notion.soreadme\_img/SRApplication.png)

å°†é¢„åˆ¶ä½“SRFrameManageræ‹–å…¥scene (Hierarchy), æ™¨æ˜Ÿè®¾å¤‡ä¸Šé€‰æ‹©è®¾å¤‡ç±»å‹ä¸ºD\_Starkitã€‚

![https://www.notion.soREADME\_Img/SRFrameManager.png](https://www.notion.soreadme\_img/SRFrameManager.png)

åœ¨sceneä¸­åˆ›å»ºä¸€ä¸ªæ–¹å—ã€‚

![https://www.notion.soREADME\_Img/Create\_cube.png](https://www.notion.soreadme\_img/Create\_cube.png)

å°†æ–¹å—æ”¾åˆ°åˆå§‹æ˜¾ç¤ºçš„æ­£å‰æ–¹1ç±³å¤„ï¼Œå¹¶å°†æ–¹å—çš„é•¿å®½é«˜éƒ½è®¾ç½®ä¸º0.2ç±³ã€‚

![https://www.notion.soREADME\_Img/Cube\_size.png](https://www.notion.soreadme\_img/Cube\_size.png)

æŒ‰å¿«æ·é”®Ctrl+S ä¿å­˜åœºæ™¯ï¼Œé€‰æ‹©ä¿å­˜çš„è·¯å¾„å’Œåœºæ™¯åã€‚

![https://www.notion.soREADME\_Img/Save\_scene.png](https://www.notion.soreadme\_img/Save\_scene.png)

#### 2.4 åº”ç”¨æ‰“åŒ…å’Œéƒ¨ç½²

åœ¨æŒ‰ç…§æ•™ç¨‹æ„å»ºå¥½åº”ç”¨åœºæ™¯åï¼Œå¯ä»¥å°†å…¶æ‰“åŒ…ä¸ºapkåº”ç”¨ã€‚é¦–å…ˆéœ€è¦ä¿è¯å·²å®‰è£…å¥½ç¼–è¯‘å®‰å“åº”ç”¨å¿…éœ€çš„å·¥å…·å’Œç»„ä»¶ï¼Œå¯ä»¥å‚è€ƒ\*\*[å¼€å‘ç¯å¢ƒ](about:blank#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83)\*\*éƒ¨åˆ†çš„å†…å®¹ã€‚ ç¼–è¯‘å®‰å“åº”ç”¨çš„å…·ä½“æ­¥éª¤å¦‚ä¸‹:

#### åˆ‡æ¢å¹³å°

åœ¨Unityçª—å£ç‚¹å‡» â€œFile->Build settingsâ€ä¸­é€‰æ‹©å®‰å“å¹³å°ï¼Œå…ˆç‚¹å‡»switch platformï¼Œ å¾…å®Œæˆåç‚¹å‡»player settingsï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š

![https://www.notion.soREADME\_Img/switch\_to\_android.png](https://www.notion.soreadme\_img/switch\_to\_android.png)

#### å¡«å†™åº”ç”¨åç§°

![https://www.notion.soREADME\_Img/Build\_name1.png](https://www.notion.soreadme\_img/Build\_name1.png)

![https://www.notion.soREADME\_Img/Build\_name2.png](https://www.notion.soreadme\_img/Build\_name2.png)

è®¾ç½®Player setting -> Resolution and Presentation ->Default Orientation ->Landscape Leftï¼Œå–æ¶ˆå‹¾é€‰Optimized Frame Pacingã€‚

![https://www.notion.soREADME\_Img/Def\_Ori\_LandScapeLeft.png](https://www.notion.soreadme\_img/Def\_Ori\_LandScapeLeft.png)

#### ç¼–è¯‘é…ç½®

unity2021.3ä»¥ä¸‹å‹¾é€‰Player setting -> Other Setting -> Auto Graphics APIï¼Œunity2021.3åŠä»¥ä¸Šå–æ¶ˆå‹¾é€‰Auto Graphics APIã€‚Color spaceä¸€èˆ¬é…ç½®ä¸ºGammaã€‚

![https://www.notion.soREADME\_Img/Auto\_Grap\_API.png](https://www.notion.soreadme\_img/Auto\_Grap\_API.png)

è®¾ç½®Player setting -> Other Setting -> Multithreaded Rendering -> falseï¼Œå…³é—­å¤šçº¿ç¨‹æ¸²æŸ“ã€‚Lightmap Encodingé€‰->Low Qualityã€‚

çœ¼é•œç«¯å¼€å‘StARkitMixtureGlassSeeThroughä¸­çš„æŠ“å›¾åŠŸèƒ½ä¸å‹¾é€‰ Graphics Jobs é€‰é¡¹æœ‰å†²çªï¼Œä¼šå¯¼è‡´glCreateProgram Errorï¼Œæ‰€ä»¥åœ¨**çœ¼é•œå¼€å‘æ—¶å»ºè®®ä¸å‹¾é€‰Graphics Jobs**ã€‚

![https://www.notion.soREADME\_Img/Mult\_Rend.png](https://www.notion.soreadme\_img/Mult\_Rend.png)

Target API Levelä¸åšç‰¹å®šç‰ˆæœ¬é™åˆ¶ï¼ŒSDKéªŒè¯è¿‡æ²¡æœ‰é—®é¢˜çš„API Levelä¸º(25ã€27ã€29)ã€‚

**æ³¨æ„ï¼š**

**1.    å¦‚æœç¼–è¯‘è¿‡ç¨‹ä¸­å‡ºç°ä¸‹å›¾é”™è¯¯æç¤ºï¼Œè¯·ä¸‹è½½å¯¹åº”çš„Android SDKç‰ˆæœ¬å¹¶åœ¨Unityç¯å¢ƒä¸­æ­£ç¡®é…ç½®ã€‚**

![https://www.notion.soREADME\_Img/android\_sdk\_level\_error\_hint.png](https://www.notion.soreadme\_img/android\_sdk\_level\_error\_hint.png)

**2.    API Levelä½äº29çš„æ—¶å€™éœ€è¦åˆ é™¤AndroidManifest.xmlä¸­applicationæ ‡ç­¾ä¸‹çš„ android:requestLegacyExternalStorage=â€œtrueâ€å±æ€§ã€‚**

**3.    API level 25æ—¶éœ€è®¾ç½®Player setting -> Resolution and Presentation ->Supported Aspect Ratio->Aspect Ratio Mode:Customï¼ŒUp To:3.6ã€‚**

![https://www.notion.soREADME\_Img/AspectRatioMode.png](https://www.notion.soreadme\_img/AspectRatioMode.png)

Scripting Backendå¯é€‰IL2CPPä¹Ÿå¯é€‰Monoï¼ŒTarget Architectureså»ºè®®é€‰æ‹© ARM64ï¼Œç®—æ³•è¿è¡Œé€Ÿåº¦åœ¨ARMv7æ¨¡å¼ä¸‹ä¼šæ¯”ARM64æ›´æ…¢ï¼Œè¯·æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ã€‚

![https://www.notion.soREADME\_Img/Lib64.png](https://www.notion.soreadme\_img/Lib64.png)

è®¾ç½®Player setting -> Configuration -> Write Permission : Externalï¼ˆSDCardï¼‰ã€‚

![https://www.notion.soREADME\_Img/Writ\_Perm.png](https://www.notion.soreadme\_img/Writ\_Perm.png)

åœ¨Porject Settingsé¢æ¿é€‰æ‹©Qualityæ‰¾åˆ°Renderingæ¨¡å—ï¼šè®¾ç½®Anisortropic Texture -> Per Textureï¼Œè®¾ç½®Anti Aliasing -> Disabled ã€‚Otheræ¨¡å—ï¼šè®¾ç½®VSync Count -> Donâ€˜t Syncã€‚

![https://www.notion.soREADME\_Img/quality.png](https://www.notion.soreadme\_img/quality.png)

#### ç¼–è¯‘åº”ç”¨

é€€å‡ºâ€œPlayer Settingsâ€œçª—å£ï¼Œå›åˆ°â€Build Settingâ€œçª—å£ï¼Œä¾æ¬¡ç‚¹å‡»â€Add Open Scenes" å’Œâ€œBuildâ€ï¼Œè·å–å®‰å“å¹³å°åº”ç”¨ã€‚

![https://www.notion.soREADME\_Img/Start\_building.png](https://www.notion.soreadme\_img/Start\_building.png)
